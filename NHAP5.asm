ORG 0
TEM DATA 30H
MAIN:
	MOV P1,#0FFH

	MOV R7,#0FFH
	MOV TEM,#8
LAP2:
	MOV R6,TEM
	MOV A,#0FEH
LAP:
	PUSH ACC
	XRL A,R7
	CPL A
	MOV R0,#2
LOOP1:
	MOV p1,#0FFH
	CALL DELAY50MS
	MOV p1,A
	CALL DELAY50MS
	DJNZ R0,LOOP1
	POP ACC
	RL A
	DJNZ R6,LAP
	DEC TEM
	MOV A,R7
	CLR C
	RRC A
	MOV R7,A
	CJNE R7,#0,LOOP1
	MOV R7,#0FFH
	JMP MAIN
DELAY100MS:
	CALL DELAY50MS
	CALL DELAY50MS
	RET
DELAY50MS:
	MOV TMOD,#01H		;BO DINH THOI 0, CHE DO 1
	MOV TH0,#HIGH(-50000)
	MOV TL0,#LOW(-50000)
	SETB TR0
	JNB TF0,$
	CLR TF0
	CLR TR0
	RET
END