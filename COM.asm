ORG 0000H
MOV TMOD,#20H
MOV SCON,#52H  ;CHE DO UART CHO PHEP NHAN
MOV TH1,#(-3)  ;TOC DO 9600
SETB TR1
MAIN:
	CALL NHAN
	CJNE A,#'A',TT1
	JMP K1
TT1:
	CJNE A,#'B',T2
	JMP K2
T2:
	CJNE A,#'C',T3
	JMP K3
T3:
	CJNE A,#'D',MAIN
	JMP K4
K1:
	MOV DPTR,#KTU1
E1:
	MOV A,#0
	MOVC A,@A+DPTR
	CALL PHAT
	INC DPTR
	CJNE A,#0,E1
	JMP MAIN
K2:
   MOV DPTR,#KTU2
E2:
	MOV A,#0
	MOVC A,@A+DPTR
	CALL PHAT
	INC DPTR
	CJNE A,#0,E2
	JMP MAIN
K3:
	MOV DPTR,#KTU3
E3:
	MOV A,#0
	MOVC A,@A+DPTR
	CALL PHAT
	INC DPTR
	CJNE A,#0,E3
	JMP MAIN
	
K4:
	MOV DPTR,#KTU4
E4:
	MOV A,#0
	MOVC A,@A+DPTR
	CALL PHAT
	INC DPTR
	CJNE A,#0,E4
	JMP MAIN
	
	
	
	
	
NHAN:
	CALL DELAY
	JNB RI,$
	CLR RI
	MOV A,SBUF
	MOV P0,A
	RET
PHAT:
	CALL DELAY
	MOV SBUF,A
	MOV P0,A
	JNB TI,$
	CLR TI
	RET
DELAY:
	PUSH 00H
	PUSH 01H
	MOV R0,#200
L_DELAY:
	MOV R1,#250
	DJNZ R1,$
	DJNZ R0,L_DELAY
	POP 01H
	POP 00H
	RET
KTU1:
	DB "HELLO ANH THI",0
KTU2:
	DB "ANH THI KHOE KHONG",0
KTU3:
    DB "TAM BIET ANH THI",0
KTU4:
	DB "CHUC ANH THI SUC KHOE, THANH CONG",0
    
	END
	