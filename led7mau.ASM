;DINH NGHIA
DO1 BIT P1.7
XD1 BIT P1.6
XL1 BIT P1.5
DO2 BIT P1.4
XD2 BIT P1.3
XL2 BIT P1.2
;BAT DAU
ORG 0
;KHOI TAO
MOV TMOD,#01H	;TIMER 0, 16BIT
;CHUONG TRINH CHINH
MAIN:
	MOV P1,#0
	MOV A,#0
LAP1:
	INC A
	MOV P1,A
	CALL DELAY500MS
	PUSH ACC
	CPL A
	MOV P1,A
	POP ACC
	CALL DELAY500MS
	CJNE A,#0FFH,LAP1
	CALL DELAY500MS
	MOV P1,#10010000B	;DO
	CALL DELAY1S
	MOV P1,#01001000B	;XANH DUONG
	CALL DELAY1S
	MOV P1,#00100100B	;XANH LA
	CALL DELAY1S
	MOV P1,#11000000B	;TIM
	CALL DELAY1S		
	MOV P1,#10100000B	;VANG
	CALL DELAY1S
	MOV P1,#01100000B	;XAM
	CALL DELAY1S
	MOV P1,#01010100B	;TRANG
	CALL DELAY1S
	MOV R1,#20
LAP2:
	MOV P1,#10010000B	;DO
	CALL DELAY500MS
	MOV P1,#01001000B	;XANH DUONG
	CALL DELAY500MS
	MOV P1,#00100100B	;XANH LA
	CALL DELAY500MS
	DJNZ R1,LAP2
	
	JMP MAIN
	
	

	
	
	
DELAY1S:
	CALL DELAY500MS
	CALL DELAY500MS
	RET
	
DELAY500MS:
	PUSH 00H
	MOV R0,#5
LOOP1:
	CALL DELAY100MS
	DJNZ R0,LOOP1
	POP 00H
	RET
DELAY100MS:
	CALL DELAY50MS
	CALL DELAY50MS
	RET
DELAY50MS:
	MOV TL0,#LOW(-50000)
	MOV TH0,#HIGH(-50000)
	SETB TR0
	JNB TF0,$
	CLR TR0
	CLR TF0
	RET
	END