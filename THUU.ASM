ORG 00H
MAIN:
		CALL HT
		CALL PHIM
		JMP MAIN
PHIM:
		MOV P2,#0FFH
		JNB P2.0,CON1
		JNB P2.1,CON2
		JNB P2.2,CON3
		JNB P2.3,CON4
		JNB P2.4,CON5
		JNB P2.5,CON6
		JNB P2.6,CON7
		JNB P2.7,CON8
		RET
CON1:
		INC 20H
		MOV A,20H
		CJNE A,#10,$+5
		MOV 20H,#0
		JNB P2.0,$
		RET
CON2:
		MOV 20H,#1
		RET
CON3:
		MOV 20H,#2
		RET
CON4:
		MOV 20H,#3
		RET
CON5:
		MOV 20H,#4
		RET
CON6:
		MOV 20H,#5
		RET
CON7:
		MOV 20H,#6
		RET
CON8:
		MOV 20H,#7
		RET
		
HT:
		MOV A,20H
		MOV DPTR,#DULIEU
		MOVC A,@A+DPTR
		MOV P2,A
		CLR P2.7
		CALL DELAY
		MOV P2,#0FFH
		RET

DELAY:
		PUSH 00H
		PUSH 01H
		MOV R0,#100
LOOP:
		MOV R1,#250
		DJNZ R1,$
		DJNZ R0,LOOP
		POP 01H
		POP 00H
		RET
DULIEU:
		DB 0C0H,0F9H,0A4H,0B0H,99H,92H,82H,0F8H,080H,090H
		END